<% include ../partials/header %>
<% include ../partials/main_nav %>
<main class="page-shell container">
  <div class="row justify-content-center">
    <div class="col-lg-7">
      <div class="card panel-card">
        <div class="card-body">
          <p class="mb-1">Update</p>
          <h1 class="h3 mb-3">Edit job application</h1>

          <form class="form-stack" method="post">
            <div class="row g-3">
              <div class="col-md-6">
                <label for="company" class="form-label">Company</label>
                <input type="text" class="form-control" id="company" name="company" value="<%= application.company %>" required>
              </div>
              <div class="col-md-6">
                <label for="position" class="form-label">Position</label>
                <input type="text" class="form-control" id="position" name="position" value="<%= application.position %>" required>
              </div>
              <div class="col-md-6">
                <label for="dateApplied" class="form-label">Date applied</label>
                <input type="date" class="form-control" id="dateApplied" name="dateApplied" value="<%= application.dateApplied %>" required>
              </div>
              <div class="col-md-6">
                <label for="status" class="form-label">Status</label>
                <select class="form-select" id="status" name="status" required>
                  <option value="" disabled <%= !application.status ? 'selected' : '' %>>Select status</option>
                  <option value="Applied" <%= application.status === 'Applied' ? 'selected' : '' %>>Applied</option>
                  <option value="Interviewing" <%= application.status === 'Interviewing' ? 'selected' : '' %>>Interviewing</option>
                  <option value="Offered" <%= application.status === 'Offered' ? 'selected' : '' %>>Offered</option>
                  <option value="Rejected" <%= application.status === 'Rejected' ? 'selected' : '' %>>Rejected</option>
                  <option value="Hired" <%= application.status === 'Hired' ? 'selected' : '' %>>Hired</option>
                  <option value="Withdrawn" <%= application.status === 'Withdrawn' ? 'selected' : '' %>>Withdrawn</option>
                </select>
              </div>
              <div class="col-md-6">
                <label for="location" class="form-label">Location</label>
                <input type="text" class="form-control" id="location" name="location" value="<%= application.location %>" required>
              </div>
              <div class="col-md-6">
                <label for="jobType" class="form-label">Job type</label>
                <input type="text" class="form-control" id="jobType" name="jobType" value="<%= application.jobType %>" required>
              </div>
              <div class="col-12">
                <label for="notes" class="form-label">Notes</label>
                <input type="text" class="form-control" id="notes" name="notes" value="<%= application.notes %>" required>
              </div>
            </div>
            <button type="submit" class="btn btn-primary me-2 mb-2">
              <i class="fas fa-user-check me-2"></i>Update
            </button>
            <a href="/applications" class="btn btn-outline-light text-dark border-0 soft-btn mb-2">
              <i class="fas fa-user-times me-2"></i>Cancel
            </a>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>
<% include ../partials/footer %>
